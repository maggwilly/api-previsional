{"version":3,"sources":["../../src/pages/secteur/secteur.module.ts","../../src/pages/secteur/secteur.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SecteurPage } from './secteur';\n\n@NgModule({\n  declarations: [\n    SecteurPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SecteurPage),\n  ],\n})\nexport class SecteurPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/secteur/secteur.module.ts","import { Component } from '@angular/core';\nimport { ManagerProvider } from '../../providers/manager/manager';\nimport { IonicPage, NavParams, NavController, ViewController } from 'ionic-angular';\nimport { AppNotify } from '../../app/app-notify';\nimport { LocalisationProvider } from '../../providers/localisation/localisation';\n\n/**\n * Generated class for the SecteurPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-secteur',\n  templateUrl: 'secteur.html',\n})\nexport class SecteurPage {\n  secteur: any = {}\n  inset: boolean = true;\n  openAddPage: boolean\n  constructor(public navCtrl: NavController,\n    public viewCtrl: ViewController,\n    public notify: AppNotify,\n    public manager: ManagerProvider,\n    public location: LocalisationProvider,\n    public navParams: NavParams) {\n    this.openAddPage = this.navParams.get('openAddPage')\n    this.inset = this.navParams.get('inset');\n      this.secteur = this.navParams.get('secteur') ? this.navParams.get('secteur') : {}\n      console.log(this.secteur);\n  }\n\n  ionViewDidLoad() {\n    if (this.secteur.id)\n      return;\n    this.location.getCurrentPosition().then((resp) => {\n      this.secteur.latitude = resp.coords.latitude;\n      this.secteur.longitude = resp.coords.longitude;\n    }).catch((error) => {\n      console.log(error);\n    });\n  }\n\n\n  dismiss(data?: any) {\n    this.viewCtrl.dismiss(data)\n  }\n\n  isInvalid(): boolean {\n    return (!this.secteur.nom || !this.secteur.ville);\n  }\n\n\n  onSubmit() {\n    this.secteur.change = true;\n    let self = this;\n    let loader = this.notify.loading({\n      content: \"Enregistrement...\",\n    });\n    this.manager.save('secteur', this.secteur, this.location.isOnline()).then((data) => {\n      loader.dismiss().then(() => {\n        if (!data.error) {\n          self.dismiss(data);\n          return this.notify.onSuccess({ message: \"Enregistrement effectué\" })\n        }\n        this.notify.onError({ message: \"Une erreur s'est produite et l'opération n'a pas put se terminer correctement\" })\n\n      });\n\n    }, error => {\n      loader.dismiss()\n      this.notify.onError({ message: \" Verifiez votre connexion internet\" })\n    })\n    loader.present();\n  }\n\n\n  deleteItem() {\n    let self = this;\n    this.notify.showAlert({\n      title: \"Suppression\",\n      message: \"Voulez-vous supprimer cet element ?\",\n      buttons: [\n        {\n          text: 'Annuler',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Supprimer',\n          handler: (data) => {\n            let loader = this.notify.loading({\n              content: \"Suppression...\",\n            });\n            this.manager.delete('secteur', this.secteur).then(data => {\n              if (data.ok) {\n                loader.dismiss().then(() => {\n                  self.dismiss(data);\n                  this.notify.onSuccess({ message: \"Element supprime\" })\n                });\n              } else {\n                loader.dismiss()\n                this.notify.onError({ message: \"Cet element est lie a d'autres. Vous ne pouvez pas le supprimer\" })\n              }\n            }, error => {\n              loader.dismiss()\n              this.notify.onError({ message: \"Un probleme est survenu\" })\n            })\n            loader.present();\n          }\n        }\n      ]\n    })\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/secteur/secteur.ts"],"sourceRoot":""}
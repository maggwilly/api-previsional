{"version":3,"sources":["../../src/pages/vendeurs/vendeurs.module.ts","../../src/pages/vendeurs/vendeurs.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VendeursPage } from './vendeurs';\n\n@NgModule({\n  declarations: [\n    VendeursPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VendeursPage),\n  ],\n})\nexport class VendeursPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vendeurs/vendeurs.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { ManagerProvider } from '../../providers/manager/manager';\nimport {UserProvider } from '../../providers/user/user';\nimport { AppNotify } from '../../app/app-notify'\n/**\n * Generated class for the VendeursPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-vendeurs',\n  templateUrl: 'vendeurs.html',\n})\nexport class VendeursPage {\n   vendeurs:any[]=[]\n   requesteds:any[]=[]\n   queryText = '';\n   loading:boolean=false;\n  constructor(\n     public navCtrl: NavController,\n     public loadingCtrl: LoadingController,\n     public manager: ManagerProvider,\n      public userService:UserProvider,\n     public notify: AppNotify,\n     public storage: Storage,\n     public navParams: NavParams\n     ) {\n  }\n\n  ionViewDidLoad() {\n    this.loadData()\n  }\n\n  loadData(){   \n    this.loading =true;\n    this.manager.get('user',true).then(data=>{\n      this.vendeurs=data?data:[];\n      this.loading=false;\n    },error=>{\n      this.notify.onError({message:\" Verifiez votre connexion internet\"})\n    })\n\n  }\n\n  loadRemoteData(){\n    let loader= this.notify.loading({\n      content: \"chargement...\",\n    }); \n    this.loading =true;   \n    this.manager.get('user',true).then(data=>{\n      this.vendeurs=data?data:[];\n      this.loading=false;   \n      loader.dismiss();       \n    },error=>{\n      loader.dismiss();   \n      this.notify.onError({message:\"Verifiez votre connexion internet\"})\n    })\n    loader.present();\n  }\n \n  add(){\n    let self=this;\n    this.notify.showAlert({\n      subTitle:\"Nouveau vendeur\",\n      message:'Ajouter un membre a votre equipe de vente',\n      inputs: [\n        {\n          name: 'nom',\n          type: 'text',\n          placeholder: 'Saisir le nom',\n          value: ''\n\n        },       \n        {\n          name: 'username',\n          type: 'tel',\n          placeholder: 'Numero de telephone',\n          value: ''\n\n        }\n\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Inviter',\n          handler: (data) => {\n            if(!data.username||data.username==self.userService.user.username)\n                       return;\n                 let loader= this.notify.loading({\n                   content: \"Invitation...\",\n                      });\n            self.manager.save('request',data,true).then((req)=>{\n              loader.dismiss().then(()=>{\n                if(!req.id)\n                   return \n               this.requesteds.splice(0,0,req); \n                 this.notify.onSuccess({message:\"Demande envoyee !\"})\n               });\n            },error=>{\n                loader.dismiss()\n                 this.notify.onError({message:\"Verifiez votre connexion internet\"})\n            })\n             loader.present();\n          }\n        }\n      ]\n    })\n  }\n\n\n\n  deleteRequest(requested:any){\n    let loader= this.notify.loading({\n      content: \"Suppression...\",\n          }); \nthis.manager.delete('request',requested,'delete',true).then(data=>{\n if(data.ok){\n   loader.dismiss().then(()=>{\n     let  index= this.requesteds.findIndex(item=>item.id==data.deletedId);\n     if(index>-1)\n     this.requesteds.splice(index,1);\n     this.notify.onSuccess({message:\"Element supprime\"})\n    }); \n }else{\n   loader.dismiss()\n    this.notify.onError({message:\"Cet element est lie a d'autres. Vous ne pouvez pas le supprimer\"})\n }\n},error=>{\n loader.dismiss()\n this.notify.onError({message:\"Un probleme est survenu\"})\n})\n loader.present();\n  }\n\n  deleteUser(user:any){\n  this.notify.showAlert({\n    title:\"Suppression\",\n    message:\"Voulez-vous supprimer ce vendeur de votre equipe ?\",\n    buttons: [\n      {\n        text: 'Annuler',\n        handler: () => {\n          console.log('Disagree clicked');\n        }\n      },\n      {\n        text: 'Supprimer',\n        handler: (data) => {\n                 let loader= this.notify.loading({\n                 content: \"Suppression...\",\n                     }); \n          this.manager.delete('user',user,'delete',true).then(data=>{\n            if(data.ok){\n              loader.dismiss().then(()=>{\n                let  index= this.vendeurs.findIndex(item=>item.id==data.deletedId);\n                this.vendeurs.splice(index,1);\n                this.notify.onSuccess({message:\"Element supprime\"})\n               }); \n            }else{\n              loader.dismiss()\n               this.notify.onError({message:\"Cet element est lie a d'autres. Vous ne pouvez pas le supprimer\"})\n            }\n          },error=>{\n            loader.dismiss()\n            this.notify.onError({message:\"Un probleme est survenu\"})\n          })\n            loader.present();\n        }\n      }\n    ]\n  })\n\n}\n\n  search() {\n    let queryText = this.queryText.toLowerCase().replace(/,|\\.|-/g, ' ');\n    let queryWords = queryText.split(' ').filter(w => !!w.trim().length);\n    this.vendeurs.forEach(item => {\n      item.hide = true;\n      this.filter(item, queryWords);\n    });\n\n  }\n  filter(item, queryWords) {\n    let matchesQueryText = false;\n    if (queryWords.length) {\n      // of any query word is in the session name than it passes the query test\n      queryWords.forEach(queryWord => {\n        if (item.nom.toLowerCase().indexOf(queryWord) > -1) {\n          matchesQueryText = true;\n        }\n      });\n    } else {\n      // if there are no query words then this session passes the query test\n      matchesQueryText = true;\n    }\n    item.hide = !(matchesQueryText);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vendeurs/vendeurs.ts"],"sourceRoot":""}
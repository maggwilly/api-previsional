{"version":3,"sources":["../../src/pages/requests/requests.module.ts","../../src/pages/requests/requests.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RequestsPage } from './requests';\n\n@NgModule({\n  declarations: [\n    RequestsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RequestsPage),\n  ],\n})\nexport class RequestsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/requests/requests.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AppNotify } from '../../app/app-notify'\nimport { ManagerProvider } from '../../providers/manager/manager';\n/**\n * Generated class for the RequestsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-requests',\n  templateUrl: 'requests.html',\n})\nexport class RequestsPage {\n  requests:any[]=[]\n  constructor(\n    public navCtrl: NavController,\n      public notify: AppNotify,\n        public manager: ManagerProvider,\n     public navParams: NavParams) {\n    this.requests=this.navParams.get('requests');\n    console.log(this.requests);\n    \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RequestsPage');\n  }\n\n  dismiss(skippecheck=true){\n  this.navCtrl.setRoot('TabsPage', {skippecheck:skippecheck}, {animate: true, direction: 'forward'});  \n  }\n\n  accepter(request:any){\n    console.log(request);\n    \n    let self=this;\n  this.notify.showAlert({\n    title:\"Acceptation\",\n    message:\"Voulez-vous integrer l'equipe de vente ?\",\n    buttons: [\n      {\n        text: 'Annuler',\n        handler: () => {\n          console.log('Disagree clicked');\n        }\n      },\n      {\n        text: 'Integrer',\n        handler: (data) => {\n                 let loader= this.notify.loading({\n                 content: \"Acceptation...\",\n                     }); \n          this.manager.delete('request',request,'accept').then(data=>{\n            if(data.ok){\n              loader.dismiss().then(()=>{\n                self.dismiss(false);\n                 this.notify.onSuccess({message:\"Vous etes bien integre\"})\n               }); \n            }else{\n              loader.dismiss()\n               this.notify.onError({message:\"L'operation n' a pas pu se derouler normalement\"})\n            }\n          },error=>{\n            loader.dismiss()\n            this.notify.onError({message:\"Un probleme est survenu\"})\n          })\n            loader.present();\n        }\n      }\n    ]\n  }) \n  }\n\n  refuser(request:any){\n       console.log(request);\n    let self=this;\n    let loader= this.notify.loading({\n      content: \"Suppression...\",\n          }); \nthis.manager.delete('request',request,'refuse').then(data=>{\n if(data.ok){\n   loader.dismiss().then(()=>{\n    if(this.requests.length<=1)\n        return self.dismiss(false);\n     let index= this.requests.findIndex(item=>item.id==data.deletedId);\n     if(index>-1)\n    this.requests.splice(index,1);\n    }); \n }else{\n   loader.dismiss()\n }\n},error=>{\n loader.dismiss()\n this.notify.onError({message:\"Un probleme est survenu\"})\n})\n loader.present(); \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/requests/requests.ts"],"sourceRoot":""}
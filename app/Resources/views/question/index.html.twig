{% extends "AppBundle::table.html.twig" %}
{% block page_title %}Matieres{% endblock %}
{% block table %}
         <table class="table table-striped table-bordered bootstrap-datatable datatable" id="my-table-1">
        <thead>
            <tr>
                <th>Enonce</th>  
                <th>Explication</th>             
                <th>Est valid√©e</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for question in questions %}
            <tr>
                <td>
                {{ question.text | raw}}
                <span class="label label-important">
                      {{ render(controller( 'AppBundle:Question:getBlockedPersons', { 'id': question.id })) }} 
                </span>
                <br>
                {% if question.image %}
                 {{question.image }}
               {% endif %}
                </td>
              
                <td> 
                    {% if question.explication is not null %}
                       <a href="{{ path('explication_show', { 'id': question.explication.id }) }}"class="btn btn-small btn-success">Explication</a>
                    {% else %}
                      <a href="{{ path('explication_new', { 'question': question.id }) }}" class="btn btn-small btn-warning">Expliquer</a>
                    {% endif %}
                     </td>           
                <td>
                <td>{% if question.validated %}OUI{% else %}NON{% endif %}</td>    
                    <ul>
                        <li>
                            <a href="{{ path('question_show', { 'id': question.id }) }}">Afficher</a>
                        </li>
                        <li>
                            <a href="{{ path('question_edit', { 'id': question.id }) }}">Modifier</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
 <a  class="btn btn-default" href="{{ path('question_new', { 'id': partie.id }) }}">Create a new question</a>   
      
{% endblock %}

{% extends "AppBundle::table.html.twig" %}
{% block page_title %}{{article.titre}}{% endblock %}
  {% block page_sub_title %}
       <ul class="breadcrumb">
        <li>
          <i class="icon-home"></i>
          <a href="{{ path('homepage')}}">Home</a> 
          <i class="icon-angle-right"></i>
        </li>
          <a href="{{ path('content_index', { 'id': article.id }) }}">{{article.titre}}</a> 
        </li>        
      </ul>
   {% endblock %}
   {% block table_title %}Les différentes parties du cours{% endblock %} 
{% block table %}
	     <table class="table table-striped table-bordered bootstrap-datatable datatable" id="my-table-1">
        <thead>
            <tr>
                <th>Titre</th>
                <th>Explication</th>             
                <th>Est validée</th>              
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for content in contents %}
            <tr>
                <td>{{ content.subtitle | raw}}
                <span class="label label-important">
                      {{ render(controller( 'AppBundle:Content:getBlockedPersons', { 'id': content.id })) }} 
                  </span>
                </td>
                <td> 
                    {% if content.explication is not null %}
                       <a href="{{ path('explication_show', { 'id': content.explication.id }) }}" class="btn btn-small btn-success">Explication</a>
                    {% else %}
                      <a href="{{ path('explication_new', { 'content': content.id }) }}" class="btn btn-small btn-warning">Expliquer</a>
                    {% endif %}
                     </td>  
               <td>{% if content.validated %}OUI{% else %}NON{% endif %}</td>                       
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('content_show', { 'id': content.id }) }}">Afficher</a>
                        </li>
                        <li>
                            <a href="{{ path('content_edit', { 'id': content.id }) }}">Modifier</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('content_new', { 'id': article.id }) }}">Completer le cours</a>
        </li>
    </ul>   
{% endblock %}
